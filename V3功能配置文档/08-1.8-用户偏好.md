# 1.8 用户偏好（列配置）配置说明

## 配置入口
- **T_COST_USER_GRID_CONFIG**
  - userId + pageCode + gridKey 唯一
  - configData 存储列配置 JSON

## configData 格式
```json
[
  {"field":"name","width":160,"order":1,"hidden":false,"pinned":null},
  {"field":"amount","width":120,"order":2,"hidden":false,"pinned":"right"}
]
```

## 示例：预置某用户的列偏好
```sql
INSERT INTO T_COST_USER_GRID_CONFIG (ID, USER_ID, PAGE_CODE, GRID_KEY, CONFIG_DATA, DELETED, UPDATE_TIME)
VALUES (
  SEQ_COST_USER_GRID.NEXTVAL,
  10001,
  'cost-demo',
  'masterGrid',
  '[{"field":"name","width":160,"order":1,"hidden":false},{"field":"amount","width":120,"order":2,"hidden":false,"pinned":"right"}]',
  0,
  SYSTIMESTAMP
);
```

## 多种配置情况
1) **主表列偏好**：gridKey = masterGrid
2) **明细列偏好**：gridKey = tabKey（如 material / package）
3) **隐藏列**：hidden=true
4) **固定列**：pinned = left / right

## 注意事项
- 前端保存列配置时，会覆盖同一 userId + pageCode + gridKey 的记录。
- 若 configData 结构不规范，后端会忽略或自动归一化。
