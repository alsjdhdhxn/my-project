# 3.1 表元数据（T_COST_TABLE_METADATA）配置说明

## 字段说明
- TABLE_CODE：表编码（前端/接口使用）
- TABLE_NAME：表名称（展示用）
- QUERY_VIEW：查询视图（SELECT 来源）
- TARGET_TABLE：保存目标表
- SEQUENCE_NAME：序列名（新增主键）
- PK_COLUMN：主键列（通常为 ID）
- PARENT_TABLE_CODE：父表编码（从表必填）
- PARENT_FK_COLUMN：从表外键列名（从表必填）
- VALIDATION_RULES：后端验证规则 JSON（见 2.4）
- ACTION_RULES：后端执行器规则 JSON（见 2.5）

## 示例 A：主表
```sql
INSERT INTO T_COST_TABLE_METADATA (
  ID, TABLE_CODE, TABLE_NAME, QUERY_VIEW, TARGET_TABLE, SEQUENCE_NAME, PK_COLUMN, CREATE_BY
) VALUES (
  SEQ_COST_TABLE_METADATA.NEXTVAL,
  'CostMaster', '成本主表',
  'V_COST_MASTER', 'T_COST_MASTER',
  'SEQ_COST_MASTER', 'ID',
  'system'
);
```

## 示例 B：从表（关联主表）
```sql
INSERT INTO T_COST_TABLE_METADATA (
  ID, TABLE_CODE, TABLE_NAME, QUERY_VIEW, TARGET_TABLE, SEQUENCE_NAME, PK_COLUMN,
  PARENT_TABLE_CODE, PARENT_FK_COLUMN, CREATE_BY
) VALUES (
  SEQ_COST_TABLE_METADATA.NEXTVAL,
  'CostDetail', '成本明细',
  'V_COST_DETAIL', 'T_COST_DETAIL',
  'SEQ_COST_DETAIL', 'ID',
  'CostMaster', 'MASTER_ID',
  'system'
);
```

## 注意事项
- QUERY_VIEW 必须包含所有字段（含外键/删除标记等）。
- PARENT_FK_COLUMN 必须与从表列元数据中的 COLUMN_NAME 对应，前端会自动映射成 fieldName。
