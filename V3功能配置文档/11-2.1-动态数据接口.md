# 2.1 动态数据接口（使用说明）

## 接口列表
- GET `/api/data/{tableCode}`：分页查询
- POST `/api/data/{tableCode}/search`：高级查询（条件 + 排序）
- GET `/api/data/{tableCode}/all`：查询全部
- GET `/api/data/{tableCode}/{id}`：查询单条
- POST `/api/data/{tableCode}`：新增
- PUT `/api/data/{tableCode}/{id}`：更新
- DELETE `/api/data/{tableCode}/{id}`：删除（软删除）

## QueryParam 条件格式
```json
{
  "page": 1,
  "pageSize": 50,
  "sortField": "createTime",
  "sortOrder": "desc",
  "pageCode": "cost-demo",
  "conditions": [
    {"field":"status","operator":"eq","value":"有效"},
    {"field":"amount","operator":"ge","value":100}
  ]
}
```

## 支持的 operator
- eq / ne / gt / ge / lt / le
- like / between / in

## 示例 A：GET 查询（简单条件）
```
GET /api/data/CostMaster?page=1&pageSize=20&status=有效
```

## 示例 B：POST 高级查询
```json
POST /api/data/CostMaster/search
{
  "page":1,
  "pageSize":20,
  "sortField":"id",
  "sortOrder":"asc",
  "conditions":[
    {"field":"amount","operator":"between","value":100,"value2":1000},
    {"field":"name","operator":"like","value":"测试"}
  ]
}
```

## 注意事项
- 查询字段必须存在于列元数据，否则会被忽略。
- `pageSize <= 0` 时不分页，返回全量。
- GET 查询的额外参数会自动转为 `eq` 条件。
