server:
  port: 8080
  tomcat:
    connection-timeout: 20000
    keep-alive-timeout: 300000
    max-keep-alive-requests: 1000

spring:
  application:
    name: cost-server
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  datasource:
    driver-class-name: oracle.jdbc.OracleDriver
    type: com.alibaba.druid.pool.DruidDataSource
    druid:
      initial-size: 5
      min-idle: 5
      max-active: 20
      max-wait: 60000
      filter:
        wall:
          enabled: true
          config:
            multi-statement-allow: false
            drop-table-allow: false
            truncate-allow: false

  # Flyway 公共配置
  flyway:
    baseline-on-migrate: true
    baseline-version: 1
    locations: classpath:db/migration
    table: flyway_schema_history
    validate-on-migrate: true

# MyBatis-Plus 公共配置
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
    jdbc-type-for-null: 'null'
  global-config:
    db-config:
      id-type: input

# Knife4j 文档配置
springdoc:
  swagger-ui:
    path: /swagger-ui.html
  api-docs:
    path: /v3/api-docs

knife4j:
  enable: true
  setting:
    language: zh_cn

# JWT 公共配置（密钥在环境配置中）
jwt:
  access-token-expire: 7200000
  refresh-token-expire: 604800000
